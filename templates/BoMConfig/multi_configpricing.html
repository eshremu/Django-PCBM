{% extends "BoMConfig/pricelanding.html" %}
{% load staticfiles %}
{% load bomconfig_customtemplatetags %}
{% block subcontent %}
<script src="{% static 'BoMConfig/handsontable-0.30.1/dist/handsontable.full.min.js' %}"
        xmlns="http://www.w3.org/1999/html"></script>
    <script src="{% static 'BoMConfig/js/multi_config.js' %}"></script>
    <link rel="stylesheet" media="screen" href="{% static 'BoMConfig/handsontable-0.30.1/dist/handsontable.full.min.css' %}"/>

    <form name="headersubform" id="headersubform"
{#          {% if configlines %}onsubmit="$('<input/>').attr('id','data_form').attr('type', 'hidden').attr('name','data_form')#}
{#          .attr('value',JSON.stringify(hot.getSourceData())).appendTo('#headersubform');form_save=true;"{% endif %}#}
          method="post">
        {% csrf_token %}
        <label for="config">Configuration</label>
        <input id="config" name="config" type="text" value="{{ config }}"/>
        <input id="initial" name="initial" type="hidden" value="{{ config }}"/>
        <input id="program" name="program" type="hidden" value="{{ program }}"/>
        <input id="baseline" name="baseline" type="hidden" value="{{ baseline }}"/>
        <button id="search" class="btn" type="submit" name="action" value="search" >Search</button>

        {% if configlines %}
         <button id="download" class="btn btn-primary" name="download" type="submit" form="headersubform" onclick="RestrictMultipleUItables(this.id)" value="download" style="">Download</button>
         <button id="saveForm" class="btn btn-primary" type="submit" name="action" form="headersubform" value="save">Save</button>
        {% endif %}
        <br/>
        {% if not configlines %}
         <span style="color:darkblue; font-weight:bold; ">*** Use <span style="color:red;">;</span> as a separator ***</span>
        {% endif %}
    <br />
   <!--<div id="formbuttons" style="position:absolute; margin-top:148%; z-index:9999;">-->
   <!--&lt;!&ndash;<div id="formbuttons">&ndash;&gt;-->
        <!--{% if configlines %}-->
        <!--<button id="cancelForm" class="btn" name="action" value="Cancel" onclick="window.location.href='{% url 'bomconfig:index' %}'">Cancel</button>-->
        <!--<button id="saveForm" class="btn btn-primary" type="submit"-->
                <!--name="action" form="headersubform" value="save">Save</button>-->
        <!--<button id="download1" class="btn" name="download" type="submit" form="headersubform" value="download" style="margin-left: 50px;">Download</button>-->
        <!--{% endif %}-->
        <!--{% if status_message %}-->
        <!--<span id="statuses" style="color:red;font-size:20px;font-weight: bold;padding-left:50px;">-->
            <!--{{ status_message }}-->
        <!--</span>-->
        <!--<script>-->
            <!--setTimeout(function(){$('#statuses').fadeOut('slow')}, 5000);-->
        <!--</script>-->
        <!--{% endif %}-->
   <!--</div>-->

    </form>
    <!--{% for i in configlines|length|safe %}-->
            <!--<label for="net_value{{forloop.counter0}}">Net Value ($): </label>-->
            <!--<input type="text" id="net_value{{forloop.counter0}}" name="net_value{{forloop.counter0}}" style="border:none;" readonly/>-->

            <!--<label for="config{{forloop.counter0}}">Configuration: </label>-->
            <!--<input type="text" id="config{{forloop.counter0}}" name="config{{forloop.counter0}}" style="border:none;" readonly/>-->

            <!--<label for="catalog{{forloop.counter0}}">Catalog: </label>-->
            <!--<input type="text" id="catalog{{forloop.counter0}}" name="catalog{{forloop.counter0}}" style="border:none;" readonly/>-->

            <!--<label for="rev{{forloop.counter0}}">Rev: </label>-->
            <!--<input type="text" id="rev{{forloop.counter0}}" name="rev{{forloop.counter0}}" style="border:none;" readonly/>-->

            <!--<div id='table-wrapper{{forloop.counter0}}' style="overflow-y: hidden; overflow-x: hidden;"><div id="datatable{{forloop.counter0}}"></div></div><br />-->

    <!--{% endfor %}-->


        <!--{% for i in configlines|length|safe %}-->
            <!--<div id='table-wrapper{{forloop.counter0}}' style="overflow-y: hidden; overflow-x: hidden;"><div id="datatable{{forloop.counter0}}"></div></div>-->
<!--&lt;!&ndash;<div id="table-wrapper1" style="overflow-y: hidden; overflow-x: hidden;">bhhvv <div id="datatable1"></div></div>&ndash;&gt;-->
        <!--{% endfor %}-->





   <script>
        var not_picklist;{% if is_not_pick_list %}not_picklist = {{ is_not_pick_list|lower }};{% endif %}
        var can_write = {{ pricing_write_authorized|lower }};
        var table_data = {{ configlines|safe }};
        var baselinesdata = {{ baselines|safe }};
        var baserevdata = {{ baserevs|safe }};
        var configdata = {{ configs|safe }};
        var configstatusdata = {{ configstatus|safe }};
        var program_list;{% if prog_list %}program_list = {{ prog_list|safe }};{% endif %}
        var baseline_list;{% if base_list %}baseline_list = {{ base_list|safe }};{% endif %}
        var readonly = {{ readonly|lower }};
        var download_url = '{% url 'bomconfig:multiconfigpricingdownload' %}';
        var file_cookie = "{% random_string 10 %}";
   </script>
{% endblock %}