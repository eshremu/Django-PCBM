{% extends "BoMConfig/template.html" %}
		
{% block content %}
{% if user.is_authenticated %}
<div id="main-body">
    {% if header_read_authorized or config_read_authorized or toc_read_authorized or revision_read_authorized or inquiry_read_authorized or sitetemplate_read_authorized %}
    <div id="action_buttons">
		{% if header_read_authorized %}<button class="btn" type="button" name="action" value="header" onclick="window.location.href='{% url 'bomconfig:configheader' %}'">Header</button>{% endif %}
		{% if config_read_authorized %}<button class="btn" type="button" name="action" value="config" onclick="window.location.href='{% url 'bomconfig:config' %}'">Configuration</button>{% endif %}
        {% if toc_read_authorized %}<button class="btn" type="button" name="action" value="toc" onclick="window.location.href='{% url 'bomconfig:configtoc' %}'">Table of Contents</button>{% endif %}
		{% if revision_read_authorized %}<button class="btn" type="button" name="action" value="revision" onclick="window.location.href='{% url 'bomconfig:configrevision' %}'">Revisions</button>{% endif %}
        {% if inquiry_read_authorized %}<button class="btn" type="button" name="action" value="inquiry" onclick="window.location.href='{% url 'bomconfig:configinquiry' %}'">Inquiry</button>{% endif %}
        {% if sitetemplate_read_authorized %}<button class="btn" type="button" name="action" value="sitetemp" onclick="window.location.href='{% url 'bomconfig:configsite' %}'">Site Template</button>{% endif %}
	</div>
    {% block subcontent %}{% endblock %}
    {% else %}
    <h4>You do not have sufficient permissions to view this asset.</h4>
    {% endif %}
    <script>
        $('a.headtitle:contains("BoM Entry")').css('outline','5px auto -webkit-focus-ring-color').css('background-color','#cccccc')
    </script>
    <style>
        #action_buttons button:hover {
            background-color: #cccccc;
        }
    </style>
</div>
<script>
    $(document).ready(function(){
        $(window).load(function(){
            $.ajax({
                type: "POST",
                async: false,
                headers:{
                    'X-CSRFToken': getcookie('csrftoken')
                },
                url: "{% url 'bomconfig:initlock' %}"
            });
        });
    });
</script>
{#<script>#}
{#    var closeButton = false;#}
{#    $(document).ready(function(){#}
{#        $(window).mouseout(function(){#}
{#            closeButton = true;#}
{#        });#}
{##}
{#        $(window).mouseover(function(){#}
{#            closeButton = false;#}
{#        });#}
{##}
{#        $(window).unload(function(){#}
{#            if(closeButton){#}
{#                $.ajax({#}
{#                    type: "POST",#}
{#                    async: false,#}
{#                    headers:{#}
{#                        'X-CSRFToken': getcookie('csrftoken')#}
{#                    },#}
{#                    url: "{% url 'bomconfig:finalunlock' %}"#}
{#                });#}
{#            }#}
{#        });#}
{#    });#}
{#</script>#}
{% else %}
<div>
    <h4>You must log in to use this function</h4>
</div>
{% endif %}
{% endblock %}